{"ast":null,"code":"var _jsxFileName = \"D:\\\\learningProjects\\\\react-demo\\\\src\\\\pages\\\\home.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // MUI\n\nimport { Grid } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CartItem from \"../components/CartItem\";\n\nclass home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoaded: false,\n      cartItems: null\n    };\n\n    this.handleDelete = cartItemId => {\n      if (window.confirm(\"Are you sure you want to delete this item?\")) {\n        this.setState({\n          isLoaded: false\n        }); // service hit for delete\n\n        axios.delete(`https://europe-west2-sandbox-253814.cloudfunctions.net/api/deleteCartItem/${cartItemId}`).then(res => {\n          console.log(res.data);\n          const cartItems = this.state.cartItems.filter(ci => ci.cartItemId !== cartItemId);\n          this.setState({\n            isLoaded: true,\n            cartItems\n          });\n        }).catch(err => {\n          console.error(err);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://europe-west2-sandbox-253814.cloudfunctions.net/api/getCartItems\").then(response => response.json()).then(result => {\n      console.log(result);\n      this.setState({\n        isLoaded: true,\n        cartItems: result\n      });\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    let shoppingListMarkup = this.state.cartItems && this.state.isLoaded ? this.state.cartItems.map(item => React.createElement(CartItem, {\n      key: item.cartItemId,\n      cartItem: item,\n      onDelete: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\",\n        marginTop: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      size: 30,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      variant: \"caption\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Loading...\"));\n    return React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      sm: 2,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      item: true,\n      sm: 8,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, shoppingListMarkup), React.createElement(Grid, {\n      item: true,\n      sm: 2,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default home;","map":{"version":3,"sources":["D:/learningProjects/react-demo/src/pages/home.js"],"names":["React","Component","axios","Grid","CircularProgress","Typography","CartItem","home","state","isLoaded","cartItems","handleDelete","cartItemId","window","confirm","setState","delete","then","res","console","log","data","filter","ci","catch","err","error","componentDidMount","fetch","response","json","result","render","shoppingListMarkup","map","item","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n// MUI\r\nimport { Grid } from \"@material-ui/core\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CartItem from \"../components/CartItem\";\r\n\r\nclass home extends Component {\r\n  state = {\r\n    isLoaded: false,\r\n    cartItems: null\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      \"https://europe-west2-sandbox-253814.cloudfunctions.net/api/getCartItems\"\r\n    )\r\n      .then(response => response.json())\r\n      .then(\r\n        result => {\r\n          console.log(result);\r\n          this.setState({\r\n            isLoaded: true,\r\n            cartItems: result\r\n          });\r\n        },\r\n        // Note: it's important to handle errors here\r\n        // instead of a catch() block so that we don't swallow\r\n        // exceptions from actual bugs in components.\r\n        error => {\r\n          this.setState({\r\n            isLoaded: true,\r\n            error\r\n          });\r\n        }\r\n      );\r\n  }\r\n\r\n  handleDelete = cartItemId => {\r\n    if (window.confirm(\"Are you sure you want to delete this item?\")) {\r\n      this.setState({ isLoaded: false });\r\n\r\n      // service hit for delete\r\n      axios\r\n        .delete(\r\n          `https://europe-west2-sandbox-253814.cloudfunctions.net/api/deleteCartItem/${cartItemId}`\r\n        )\r\n        .then(res => {\r\n          console.log(res.data);\r\n          const cartItems = this.state.cartItems.filter(\r\n            ci => ci.cartItemId !== cartItemId\r\n          );\r\n          this.setState({ isLoaded: true, cartItems });\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let shoppingListMarkup =\r\n      this.state.cartItems && this.state.isLoaded ? (\r\n        this.state.cartItems.map(item => (\r\n          <CartItem\r\n            key={item.cartItemId}\r\n            cartItem={item}\r\n            onDelete={this.handleDelete}\r\n          />\r\n        ))\r\n      ) : (\r\n        <div style={{ textAlign: \"center\", marginTop: 30 }}>\r\n          <CircularProgress size={30} />\r\n          <br />\r\n          <Typography variant=\"caption\">Loading...</Typography>\r\n        </div>\r\n      );\r\n\r\n    return (\r\n      <Grid container spacing={2}>\r\n        <Grid item sm={2} xs={12}></Grid>\r\n        <Grid item sm={8} xs={12}>\r\n          {shoppingListMarkup}\r\n        </Grid>\r\n        <Grid item sm={2} xs={12}></Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default home;\r\n"]},"metadata":{},"sourceType":"module"}